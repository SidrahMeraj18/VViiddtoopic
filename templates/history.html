{% extends 'base.html' %}
{% load static %}


{% block content %}
<section class="features section">
    <div class="container">
        
        <div class="features-inner section-inner has-bottom-divider">
            <div id="search" style="margin-bottom: 50px;">
                <input class="search__input" type="text" placeholder="Search">
            </div>
            
            <h3> History </h3>
            <div class="features-wrap">
                {% for obj in objs %}
                <div class="feature text-center is-revealing">
                    <div class="feature-inner">
                        <div class="feature-video">
                            <video width="100%" height="100%" controls>
                                <source src="{{ obj.preview.url}}" type="video/mp4">
                              </video>
                        </div>
                        <div class="feature-title">
                            <div>
                            <h6> {{ obj.title }}</h6>
                            <button class="button" {% if obj.favourites_set.count %} style="background-color:red" onclick="window.location.href = '{% url 'unfav' srt_id=obj.id %}'" {% else %} style="background-color:grey" onclick="window.location.href = '{% url 'fav' srt_id=obj.id %}'" {% endif %}> Fav </button>
                            </div>
                            <div>
                            <p> User: {{ obj.user }}</p>
                            <p> Public: {{ obj.public }} </p>
                            </div>

                        </div>
                        
                    </div>
                </div>
                {% endfor %}
                
            </div>
        </div>
    </div>
</section>

{% endblock content %}